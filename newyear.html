<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2026é©¬å¹´ Â· æ–°æ˜¥çƒŸèŠ±ç››å…¸</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{
    background:linear-gradient(135deg,#101030,#2a0f3b,#4a0c33);
    overflow:hidden;height:100vh;
    font-family:"Microsoft YaHei",sans-serif;
    color:#fff;
  }
  canvas{position:absolute;top:0;left:0}

  /* å€’è®¡æ—¶ + æ—¶é’Ÿå›¾æ ‡ */
  .countdown{
    position:fixed;top:40px;left:50%;transform:translateX(-50%);
    font-size:28px;color:#ffd700;
    text-shadow:0 0 12px #ffd700;
    z-index:998;
    display:flex;align-items:center;gap:14px;
    background:rgba(0,0,0,0.35);
    padding:10px 24px;border-radius:60px;
    backdrop-filter:blur(10px);
    border:1px solid rgba(255,215,0,0.4);
  }
  .clock{
    width:38px;height:38px;
    border:3px solid #ffd700;
    border-radius:50%;
    position:relative;display:flex;align-items:center;justify-content:center;
  }
  .clock::after{content:'';width:2px;height:12px;background:#ffd700;position:absolute;transform-origin:bottom center;animation:s 60s linear infinite}
  .clock::before{content:'';width:2px;height:8px;background:#ff69b4;position:absolute;transform-origin:bottom center;transform:rotate(90deg)}
  .clock .dot{width:5px;height:5px;background:#ffd700;border-radius:50%;z-index:2}
  @keyframes s{to{transform:rotate(360deg)}}

  .countdown .item{
    min-width:60px;text-align:center;
    background:rgba(0,0,0,0.4);
    padding:8px 10px;border-radius:8px;
  }

  /* æ ‡é¢˜å®¹å™¨ */
  .title-container{
    position:fixed;top:120px;left:50%;transform:translateX(-50%);
    z-index:999;
    padding:10px 24px;
    border-radius:60px;
    background:rgba(0,0,0,0.35);
    backdrop-filter:blur(10px);
    border:1px solid rgba(255,215,0,0.4);
    max-width:90vw;
    text-align:center;
  }
  /* æ ‡é¢˜æ–‡å­— */
  .title{
    font-size:50px;font-weight:bold;
    background:linear-gradient(90deg,#ffd700,#ff69b4,#44ccff);
    -webkit-background-clip:text;background-clip:text;color:transparent;
    text-shadow:0 0 20px rgba(255,215,0,0.4);
    white-space:nowrap;
  }
  
  /* å“åº”å¼è®¾è®¡ */
  @media (max-width: 768px) {
    /* æ‰‹æœºå±å¹•ä¼˜åŒ– */
    .title-container{
      top:90px;
      padding:8px 20px;
      max-width:95vw;
    }
    .title{
      font-size:28px;
      white-space:nowrap;
    }
    
    /* å€’è®¡æ—¶ä¼˜åŒ– */
    .countdown{
      top:30px;
      font-size:16px;
      gap:6px;
      padding:6px 12px;
      max-width:95vw;
      white-space:nowrap;
    }
    .countdown .item{
      min-width:35px;
      padding:4px 6px;
      font-size:14px;
    }
    .clock{
      width:25px;
      height:25px;
    }
    .clock::after{
      height:8px;
    }
    .clock::before{
      height:5px;
    }
  }
  
  @media (max-width: 480px) {
    /* å°å±å¹•æ‰‹æœºä¼˜åŒ– */
    .title-container{
      top:80px;
      max-width:98vw;
    }
    .title{
      font-size:22px;
      white-space:nowrap;
    }
    
    .countdown{
      top:25px;
      font-size:14px;
      gap:4px;
      padding:5px 10px;
      max-width:98vw;
      white-space:nowrap;
    }
    .countdown .item{
      min-width:30px;
      padding:3px 5px;
      font-size:12px;
    }
    .clock{
      width:20px;
      height:20px;
    }
    .clock::after{
      height:6px;
    }
    .clock::before{
      height:4px;
    }
  }
  
  @media (max-width: 320px) {
    /* æå°å±å¹•ä¼˜åŒ– */
    .title-container{
      top:75px;
    }
    .title{
      font-size:18px;
      white-space:nowrap;
    }
    
    .countdown{
      top:20px;
      font-size:12px;
      gap:3px;
      padding:4px 8px;
    }
    .countdown .item{
      min-width:25px;
      padding:2px 4px;
      font-size:10px;
    }
  }

  /* å¼¹å¹• */
  .danmu{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:997}
  .dm{position:absolute;white-space:nowrap;font-size:22px;font-weight:bold;text-shadow:1px 1px 5px #000;animation:dr linear forwards}
  
  /* å¼¹å¹•å“åº”å¼ä¼˜åŒ– */
  @media (max-width: 768px) {
    .dm{
      font-size:16px;
    }
  }
  
  @media (max-width: 480px) {
    .dm{
      font-size:14px;
    }
  }
  @keyframes dr{from{transform:translateX(100vw)}to{transform:translateX(-120%)}}
</style>
</head>
<body>

<div class="title-container">
  <div class="title">2026 é©¬å¹´å¤§å‰ Â· ä¸‡äº‹èƒœæ„</div>
</div>

<div class="countdown">
  <div class="clock"><div class="dot"></div></div>
  <div class="item"><span id="d">0</span>å¤©</div>
  <div class="item"><span id="h">0</span>æ—¶</div>
  <div class="item"><span id="m">0</span>åˆ†</div>
  <div class="item"><span id="s">0</span>ç§’</div>
</div>

<div class="danmu" id="dm"></div>
<canvas id="c"></canvas>

<!-- éŸ³é¢‘ç³»ç»Ÿ -->


<!-- èƒŒæ™¯éŸ³ä¹ -->
<audio id="bg-music" loop preload="auto" style="display:none;">
  <source src="https://www.bensound.com/bensound-music/bensound-sunny.mp3" type="audio/mpeg">
  <source src="https://www.bensound.com/bensound-music/bensound-ukulele.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- éŸ³é¢‘æ§åˆ¶ -->
<div id="audio-controls" style="position:fixed;top:20px;right:20px;z-index:1000;">
  <button onclick="toggleAudio()" style="background:rgba(0,0,0,0.5);color:white;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center;">
    <span id="audio-icon">ğŸ”‡</span>
  </button>
</div>

<!-- éŸ³é¢‘å¯ç”¨æç¤º -->
<div id="audio-prompt" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px;border-radius:10px;z-index:1001;text-align:center;">
  <h3>ğŸŠ æ–°å¹´ç¥ç¦é¡µé¢ ğŸŠ</h3>
  <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¯ç”¨å£°éŸ³æ•ˆæœ</p>
  <button onclick="enableAudioSystem()" style="margin-top:15px;padding:10px 20px;background:#ffd700;color:#000;border:none;border-radius:5px;cursor:pointer;font-weight:bold;">å¯ç”¨å£°éŸ³</button>
</div>

<script>
// éŸ³é¢‘ç³»ç»Ÿæ§åˆ¶ - ä½¿ç”¨Web Audio API
let audioEnabled = false;
let audioContext = null;
let bgMusicPlaying = false;
let bgMusicInterval = null;

// å¯ç”¨éŸ³é¢‘ç³»ç»Ÿ
function enableAudioSystem() {
  try {
    // åˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡
    audioContext = new (window.AudioContext || window.webkitAudioContext)();
    audioEnabled = true;
    
    // éšè—æç¤º
    document.getElementById('audio-prompt').style.display = 'none';
    
    // å¼€å§‹æ’­æ”¾èƒŒæ™¯éŸ³ä¹
    startBackgroundMusic();
    
    // æ›´æ–°å›¾æ ‡
    document.getElementById('audio-icon').textContent = 'ğŸ”Š';
    
    console.log('Audio system enabled');
  } catch (e) {
    console.error('Failed to enable audio:', e);
    alert('æ— æ³•å¯ç”¨éŸ³é¢‘ç³»ç»Ÿï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®');
  }
}

// åˆ‡æ¢éŸ³é¢‘çŠ¶æ€
function toggleAudio() {
  if (!audioEnabled) {
    enableAudioSystem();
    return;
  }
  
  const icon = document.getElementById('audio-icon');
  
  if (bgMusicPlaying) {
    // å®Œå…¨å…³é—­éŸ³é¢‘ç³»ç»Ÿ
    stopBackgroundMusic();
    audioEnabled = false;
    icon.textContent = 'ğŸ”‡';
  } else {
    // é‡æ–°å¯ç”¨éŸ³é¢‘ç³»ç»Ÿ
    audioEnabled = true;
    startBackgroundMusic();
    icon.textContent = 'ğŸ”Š';
  }
}

// æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼ˆä½¿ç”¨çœŸå®éŸ³é¢‘æ–‡ä»¶ï¼‰
function startBackgroundMusic() {
  if (bgMusicPlaying) return;
  
  try {
    const bgMusic = document.getElementById('bg-music');
    if (bgMusic) {
      bgMusic.volume = 0.3;
      bgMusic.play().catch(e => {
        console.log('BG music play failed:', e);
        // å¦‚æœè‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œç­‰å¾…ç”¨æˆ·äº¤äº’
        document.body.addEventListener('click', function playOnClick() {
          bgMusic.play().catch(e => console.log('Play on click failed:', e));
          document.body.removeEventListener('click', playOnClick);
        }, { once: true });
      });
      bgMusicPlaying = true;
    }
  } catch (e) {
    console.error('Failed to start background music:', e);
  }
}

// åœæ­¢èƒŒæ™¯éŸ³ä¹
function stopBackgroundMusic() {
  try {
    const bgMusic = document.getElementById('bg-music');
    if (bgMusic) {
      bgMusic.pause();
      bgMusic.currentTime = 0;
    }
    bgMusicPlaying = false;
  } catch (e) {
    console.error('Failed to stop background music:', e);
  }
}

// æ’­æ”¾çƒŸèŠ±çˆ†ç‚¸å£°éŸ³ï¼ˆä½¿ç”¨Web Audio APIç”Ÿæˆï¼‰
function playFireworkSound() {
  if (!audioEnabled || !audioContext) return;
  
  try {
    const now = audioContext.currentTime;
    
    // ä¸»çˆ†ç‚¸å£°éŸ³ - æ›´çœŸå®çš„çƒŸèŠ±çˆ†ç‚¸
    const explosion = audioContext.createOscillator();
    const explosionGain = audioContext.createGain();
    
    explosion.connect(explosionGain);
    explosionGain.connect(audioContext.destination);
    
    explosion.type = 'sawtooth';
    explosion.frequency.setValueAtTime(300 + Math.random() * 100, now);
    explosion.frequency.exponentialRampToValueAtTime(50, now + 0.8);
    
    explosionGain.gain.setValueAtTime(0.4, now);
    explosionGain.gain.exponentialRampToValueAtTime(0.001, now + 0.8);
    
    explosion.start(now);
    explosion.stop(now + 0.8);
    
    // æ·»åŠ çˆ†ç‚¸åçš„ç«èŠ±å£°
    setTimeout(() => {
      if (!audioEnabled || !audioContext) return;
      
      const sparkTime = now + 0.1;
      const sparkCount = 5 + Math.floor(Math.random() * 8);
      
      for (let i = 0; i < sparkCount; i++) {
        const sparkDelay = 0.05 + Math.random() * 0.3;
        
        setTimeout(() => {
          if (!audioEnabled || !audioContext) return;
          
          const spark = audioContext.createOscillator();
          const sparkGain = audioContext.createGain();
          
          spark.connect(sparkGain);
          sparkGain.connect(audioContext.destination);
          
          spark.type = 'square';
          spark.frequency.setValueAtTime(800 + Math.random() * 400, audioContext.currentTime);
          spark.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 0.2);
          
          sparkGain.gain.setValueAtTime(0.1 + Math.random() * 0.1, audioContext.currentTime);
          sparkGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);
          
          spark.start(audioContext.currentTime);
          spark.stop(audioContext.currentTime + 0.2);
        }, sparkDelay * 1000);
      }
    }, 100);
    
    // æ·»åŠ çˆ†ç‚¸å‰çš„ä¸Šå‡å£°éŸ³ï¼ˆå¯é€‰ï¼‰
    if (Math.random() > 0.7) {
      const rise = audioContext.createOscillator();
      const riseGain = audioContext.createGain();
      
      rise.connect(riseGain);
      riseGain.connect(audioContext.destination);
      
      rise.type = 'sine';
      rise.frequency.setValueAtTime(200, now - 0.3);
      rise.frequency.linearRampToValueAtTime(600, now);
      
      riseGain.gain.setValueAtTime(0.1, now - 0.3);
      riseGain.gain.linearRampToValueAtTime(0.2, now);
      riseGain.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
      
      rise.start(now - 0.3);
      rise.stop(now + 0.1);
    }
    
  } catch (e) {
    console.error('Failed to play firework sound:', e);
  }
}

// æ’­æ”¾å•ä¸ªéŸ³ç¬¦
function playTone(frequency, duration) {
  if (!audioContext) return;
  
  try {
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration / 1000);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + duration / 1000);
  } catch (e) {
    console.error('Failed to play tone:', e);
  }
}

// é¡µé¢åŠ è½½æ—¶è®¾ç½®ç‚¹å‡»äº‹ä»¶
document.addEventListener('DOMContentLoaded', function() {
  // ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®å¯ç”¨éŸ³é¢‘
  document.body.addEventListener('click', function enableOnClick(e) {
    // é¿å…ç‚¹å‡»éŸ³é¢‘æ§åˆ¶æŒ‰é’®æ—¶è§¦å‘
    if (!e.target.closest('#audio-controls')) {
      enableAudioSystem();
    }
    document.body.removeEventListener('click', enableOnClick);
  }, { once: true });
});

const c = document.getElementById('c');
const ctx = c.getContext('2d');
function resize(){c.width=innerWidth;c.height=innerHeight}
resize();window.addEventListener('resize',resize);

// é›ªèŠ±
class Snow{
  constructor(){this.reset()}
  reset(){
    this.x=Math.random()*c.width;
    this.y=Math.random()*-c.height;
    this.s=Math.random()*2+1;
    this.vy=Math.random()*1.5+0.5;
    this.vx=(Math.random()-0.5)*0.6
  }
  update(){
    this.x+=this.vx;
    this.y+=this.vy;
    if(this.y>c.height)this.reset()
  }
  draw(){
    ctx.fillStyle='rgba(255,255,255,0.8)';
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.s,0,Math.PI*2);
    ctx.fill()
  }
}
const snows=Array.from({length:200},()=>new Snow());

// ç²’å­ç±» - ä¿®å¤é€æ˜åº¦è¡°å‡é€Ÿåº¦
class Particle{
  constructor(x,y,color,size,speed,angle=0){
    this.x = x;
    this.y = y;
    this.color = color;
    this.size = size;
    // æŒ‰è§’åº¦è®¡ç®—é€Ÿåº¦ï¼Œä¿è¯å½¢çŠ¶å®Œæ•´
    this.vx = Math.cos(angle) * speed;
    this.vy = Math.sin(angle) * speed;
    this.alpha = 1;
    this.gravity = 0.05; // å‡å°é‡åŠ›ï¼Œé¿å…å½¢çŠ¶å¿«é€Ÿå˜å½¢
  }
  update(){
    this.x += this.vx;
    this.y += this.vy;
    this.vy += this.gravity;
    this.alpha -= 0.008; // å‡æ…¢è¡°å‡ï¼Œè®©å½¢çŠ¶æ˜¾ç¤ºæ›´ä¹…
  }
  draw(){
    if(this.alpha > 0){
      ctx.fillStyle=`rgba(${this.color},${this.alpha})`;
      ctx.fillRect(this.x - this.size/2, this.y - this.size/2, this.size, this.size);
    }
  }
}

// å½¢çŠ¶åæ ‡ä¼˜åŒ– - è°ƒæ•´æ¯”ä¾‹ï¼Œç¡®ä¿æ˜¾ç¤ºå®Œæ•´
const shapes={
  // é©¬å½¢
  horse:[
    [0,-8],[0,-6],[0,-4],[0,-2],[0,0],[0,2],[0,4],
    [-2,-6],[-2,-4],[-4,-4],[-4,-2],[-6,-2],[-6,0],[-4,0],[-4,2],[-2,2],
    [2,-6],[2,-4],[4,-4],[4,-2],[6,-2],[6,0],[4,0],[4,2],[2,2]
  ],
  // å¿ƒå½¢
  heart:[
    [0,0],[3,-3],[6,-4],[8,-2],[6,1],[3,4],[0,7],[-3,4],[-6,1],[-8,-2],[-6,-4],[-3,-3]
  ],
  // æ˜Ÿå½¢
  star:[
    [0,-10],[3,-3],[10,-3],[5,2],[7,8],[0,5],[-7,8],[-5,2],[-10,-3],[-3,-3]
  ],
  // ç¦å­—ç®€åŒ–ç‰ˆ
  luck:[
    [0,-6],[0,-4],[0,-2],[0,0],[0,2],[0,4],
    [-3,-4],[-3,-2],[-3,0],[-3,2],
    [3,-4],[3,-2],[3,0],[3,2]
  ],
  // 2026æ•°å­—
  year:[
    // 2
    [-10,-6],[-8,-6],[-10,-3],[-10,0],[-10,3],[-8,3],[-6,3],
    // 0
    [-4,-6],[-2,-6],[-2,-3],[-2,0],[-2,3],[-4,3],[-4,-3],
    // 2
    [0,-6],[2,-6],[0,-3],[0,0],[0,3],[2,3],[4,3],
    // 6
    [6,-6],[8,-6],[8,-3],[6,-3],[6,0],[8,0],[8,3],[6,3],[4,1]
  ]
};

// çƒŸèŠ±ç±» - ä¿®å¤å½¢çŠ¶çˆ†å¼€é€»è¾‘
class Firework{
  constructor(x){
    this.x = x || Math.random()*c.width;
    this.y = c.height;
    this.targetY = 100 + Math.random()*300; // ç»½æ”¾é«˜åº¦
    this.speed = 4 + Math.random()*2; // å‡ç©ºé€Ÿåº¦
    this.exploded = false;
    this.particles = [];
    // éšæœºçƒŸèŠ±ç±»å‹
    this.types = ['normal','horse','heart','star','luck','year'];
    this.type = this.types[Math.floor(Math.random()*this.types.length)];
    // æ–°å¹´é…è‰²
    this.colors = [
      [255,215,0], // é‡‘è‰²
      [255,80,80], // çº¢è‰²
      [255,105,180],// ç²‰è‰²
      [100,220,255],// è“è‰²
      [100,255,100] // ç»¿è‰²
    ];
    this.color = this.colors[Math.floor(Math.random()*this.colors.length)].join(',');
    // å‡ç©ºå°¾ç„°
    this.tail = [];
  }

  // ä¿®å¤å½¢çŠ¶çˆ†å¼€æ–¹æ³•
  explode(){    
    this.exploded = true;
    const baseSize = 3; // ç²’å­åŸºç¡€å¤§å°
    const baseSpeed = 2; // å½¢çŠ¶ç²’å­é€Ÿåº¦

    // æ’­æ”¾çƒŸèŠ±çˆ†ç‚¸å£°éŸ³
    playFireworkSound();

    // æ™®é€šçƒŸèŠ±
    if(this.type === 'normal'){
      for(let i=0;i<150;i++){
        const angle = Math.random() * Math.PI * 2;
        this.particles.push(new Particle(
          this.x, 
          this.y, 
          this.color, 
          baseSize + Math.random()*2, 
          3 + Math.random()*5,
          angle
        ));
      }
    }
    // å½¢çŠ¶çƒŸèŠ±
    else{
      const shapePoints = shapes[this.type];
      // éå†å½¢çŠ¶çš„æ¯ä¸ªç‚¹
      for(let point of shapePoints){
        // æ¯ä¸ªç‚¹ç”Ÿæˆå¤šä¸ªç²’å­ï¼Œè®©å½¢çŠ¶æ›´æ˜æ˜¾
        for(let i=0;i<3;i++){
          const angle = Math.atan2(point[1], point[0]);
          // è®¡ç®—ç²’å­åˆå§‹ä½ç½®ï¼ˆåŸºäºå½¢çŠ¶åæ ‡åç§»ï¼‰
          const px = this.x + point[0] * 4;
          const py = this.y + point[1] * 4;
          this.particles.push(new Particle(
            px, 
            py, 
            this.color, 
            baseSize, 
            baseSpeed + Math.random()*1,
            angle
          ));
        }
      }
      // å½¢çŠ¶å¤–å›´è¡¥å……æ™®é€šç²’å­ï¼Œæ›´ç»šä¸½
      for(let i=0;i<50;i++){
        const angle = Math.random() * Math.PI * 2;
        this.particles.push(new Particle(
          this.x, 
          this.y, 
          this.color, 
          baseSize, 
          4 + Math.random()*2,
          angle
        ));
      }
    }
  }

  update(){
    // å‡ç©ºé˜¶æ®µ
    if(!this.exploded){
      this.y -= this.speed;
      // ç”Ÿæˆå°¾ç„°
      this.tail.push({x:this.x, y:this.y, alpha:1});
      this.tail = this.tail.filter(t => t.alpha > 0);
      this.tail.forEach(t => t.alpha -= 0.1);
      // åˆ°è¾¾é«˜åº¦è§¦å‘çˆ†ç‚¸
      if(this.y <= this.targetY){
        this.explode();
      }
    }
    // çˆ†ç‚¸é˜¶æ®µæ›´æ–°ç²’å­
    this.particles.forEach(p => p.update());
    // æ¸…ç†æ¶ˆå¤±çš„ç²’å­
    this.particles = this.particles.filter(p => p.alpha > 0);
  }

  draw(){
    // ç»˜åˆ¶å‡ç©ºçƒŸèŠ±èŠ¯
    if(!this.exploded){
      // å‘å…‰æ•ˆæœ
      ctx.shadowBlur = 15;
      ctx.shadowColor = `rgba(${this.color},0.8)`;
      ctx.fillStyle = `rgba(${this.color},1)`;
      ctx.fillRect(this.x-2, this.y, 4, 10);
      ctx.shadowBlur = 0;
      // ç»˜åˆ¶å°¾ç„°
      this.tail.forEach(t => {
        ctx.fillStyle = `rgba(${this.color},${t.alpha})`;
        ctx.fillRect(t.x-1, t.y+10, 2, 6);
      });
    }
    // ç»˜åˆ¶ç²’å­
    this.particles.forEach(p => p.draw());
  }
}

// çƒŸèŠ±ç®¡ç†
let fireworks=[];

// è‡ªåŠ¨ç”ŸæˆçƒŸèŠ±ï¼ˆæ¯1.5ç§’ä¸€ä¸ªï¼‰
setInterval(()=>{
  fireworks.push(new Firework());
},1500);

// ç‚¹å‡»ç”ŸæˆçƒŸèŠ±
c.addEventListener('click',e=>{
  fireworks.push(new Firework(e.clientX));
  fireworks.push(new Firework(e.clientX + Math.random()*60-30));
});

// å€’è®¡æ—¶ï¼ˆ2026é©¬å¹´æ˜¥èŠ‚ï¼š2026-02-17ï¼‰
function cd(){
  const target = new Date('2026-02-17 00:00:00');
  const now = new Date();
  let diff = Math.max(0, target - now);
  
  const d = Math.floor(diff / 86400000);
  const h = Math.floor((diff % 86400000) / 3600000).toString().padStart(2,'0');
  const m = Math.floor((diff % 3600000) / 60000).toString().padStart(2,'0');
  const s = Math.floor((diff % 60000) / 1000).toString().padStart(2,'0');
  
  document.getElementById('d').innerText = d;
  document.getElementById('h').innerText = h;
  document.getElementById('m').innerText = m;
  document.getElementById('s').innerText = s;
}
cd();
setInterval(cd,1000);

// å¼¹å¹•ç¥ç¦è¯­ï¼ˆ80+æ¡ï¼‰
const texts=[
  '2026é©¬å¹´å¤§å‰','é©¬åˆ°æˆåŠŸ','é¾™é©¬ç²¾ç¥','ä¸€é©¬å½“å…ˆ','é©¬ä¸Šæœ‰é’±','é©¬ä¸Šæš´å¯Œ',
  'é˜–å®¶å¹¸ç¦','ä¸‡äº‹å¦‚æ„','èº«ä½“å¥åº·','è´¢æºå¹¿è¿›','æ­¥æ­¥é«˜å‡','å‰ç¨‹ä¼¼é”¦',
  'å¿ƒæƒ³äº‹æˆ','å²å²å¹³å®‰','ç¦æ˜Ÿé«˜ç…§','å¥½è¿è¿è¿','ç¬‘å£å¸¸å¼€','ä¸‡äº‹èƒœæ„',
  'æ–°æ˜¥å¿«ä¹','é©¬å¹´è¡Œå¤§è¿','æ—¥å­çº¢çº¢ç«ç«','æš´å¯Œæš´ç¾æš´é¡ºåˆ©','å¹³å®‰å–œä¹',
  'äº‹ä¸šè…¾é£','å–œæ°”æ´‹æ´‹','é’±é€”æ— é‡','é¡ºé£é¡ºæ°´','ç¦æ°”æ»¡æ»¡','å¥½è¿çˆ†æ£š',
  'å…«æ–¹æ¥è´¢','äº”ç¦ä¸´é—¨','å…­å…­å¤§é¡º','ä¸ƒæ˜Ÿé«˜ç…§','ä¹ä¹åŒå¿ƒ','åå…¨åç¾',
  'é©¬å¹´æ—ºä¸åœ','æ–°å¹´æ–°æ°”è±¡','ä¸‡äº‹çš†å¦‚æ„','å¹¸ç¦æ°¸ç›¸ä¼´','å¼€å¿ƒæ¯ä¸€å¤©',
  'ç­–é©¬å¥”è…¾è¿æ–°æ˜¥','ä¸€é©¬å¹³å·èµ°å››æ–¹','é‡‘é©¬é€ç¦åˆ°å®¶é—¨','é¾™é©¬ç²¾ç¥å±•å®å›¾',
  
  // æ–°å¢è¯—è¯ç¥ç¦
  'æ˜¥é£å¾—æ„é©¬è¹„ç–¾','ä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±','é©¬è¸é£ç‡•è¿æ–°æ˜¥','é‡‘é©¬ç‰å ‚è´ºæ–°å¹´',
  'é©¬å¹´å‰ç¥¥ç¦æ»¡é—¨','éªé©¬å¥”è…¾å¥½è¿æ¥','é©¬åˆ°åŠŸæˆäº‹äº‹é¡º','é¾™é©¬ç²¾ç¥æ°¸ç›¸éš',
  'é©¬å¹´è¡Œå¤§è¿','é©¬ä¸Šæœ‰ç¦æ°”','é©¬å¹´æ—ºæ—ºæ¥','é©¬å¹´å‘å¤§è´¢',
  
  // æ–°å¢ç¥ç¦è¯­
  'é©¬å¹´å¥½è¿è¿è¿æ¥','é©¬ä¸Šæœ‰é’±èŠ±ä¸å®Œ','é©¬åˆ°æˆåŠŸäº‹ä¸šå…´','é¾™é©¬ç²¾ç¥èº«ä½“æ£’',
  'é©¬å¹´å¤§å‰å¤§åˆ©','é©¬ä¸Šæœ‰å–œäº‹','é©¬å¹´å¹¸ç¦ç¾æ»¡','é©¬å¹´å¿«ä¹æ— é™',
  'é©¬å¹´è´¢æºæ»šæ»š','é©¬ä¸Šæœ‰æ¡ƒèŠ±','é©¬å¹´å¥åº·å¹³å®‰','é©¬å¹´ä¸‡äº‹å¦‚æ„',
  'é©¬å¹´é˜–å®¶æ¬¢ä¹','é©¬ä¸Šæœ‰ç¦æ˜Ÿ','é©¬å¹´æ­¥æ­¥é«˜å‡','é©¬å¹´å¿ƒæƒ³äº‹æˆ',
  
  // åˆ›æ„ç¥ç¦
  'é©¬å¹´éª‘é©¬çœ‹èŠ±ï¼Œå¥½è¿è¿è¿','é©¬ä¸Šå°ä¾¯ï¼Œæ­¥æ­¥é«˜å‡','é©¬è¸ç¥¥äº‘ï¼Œç¦æ°”ä¸´é—¨',
  'é‡‘é©¬é€ç¦ï¼Œå–œæ°”æ´‹æ´‹','é©¬å¹´è¡Œå¤§è¿ï¼Œè´¢æºå¹¿è¿›','é¾™é©¬ç²¾ç¥ï¼Œæ°¸è‘†é’æ˜¥',
  'é©¬åˆ°æˆåŠŸï¼Œäº‹ä¸šè…¾é£','é©¬ä¸Šæœ‰é’±ï¼Œè´¢æºæ»šæ»š','é©¬å¹´å‰ç¥¥ï¼Œå¹¸ç¦å®‰åº·'
];

const colors=['#ffd700','#ff69b4','#44ddff','#ffffff','#33ff66','#ffaa33'];

// ç”Ÿæˆå¼¹å¹•
function dm(){
  const div=document.createElement('div');
  div.className='dm';
  
  // æ˜¾ç¤ºæ™®é€šç¥ç¦è¯­
  div.innerText = texts[Math.floor(Math.random()*texts.length)];
  div.style.color = colors[Math.floor(Math.random()*colors.length)];
  div.style.fontSize = '22px';
  
  div.style.top = Math.random()*75 + 'vh';
  div.style.animationDuration = (10 + Math.random()*8) + 's';
  
  document.getElementById('dm').appendChild(div);
  setTimeout(() => div.remove(), 20000);
}
setInterval(dm, 500);
dm();

// ä¸»æ¸²æŸ“å¾ªç¯
function loop(){
  // åŠé€æ˜èƒŒæ™¯ï¼Œä¿ç•™æ‹–å½±æ•ˆæœ
  ctx.fillStyle='rgba(20,20,40,0.2)';
  ctx.fillRect(0,0,c.width,c.height);
  
  // æ¸²æŸ“é›ªèŠ±
  snows.forEach(s=>{s.update();s.draw()});
  
  // æ¸²æŸ“çƒŸèŠ±
  fireworks.forEach(f=>{f.update();f.draw()});
  
  // æ¸…ç†å·²æ¶ˆå¤±çš„çƒŸèŠ±
  fireworks=fireworks.filter(f=>f.particles.length>0 || !f.exploded);
  
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
